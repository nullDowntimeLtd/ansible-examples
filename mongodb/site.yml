---
# This Playbook would deploy the whole mongodb cluster with replication and sharding.

- hosts: all
  remote_user: vagrant
  sudo: true
  public_network
  roles:
   - role: common

- hosts: mongo_servers
  remote_user: vagrant
  sudo: true
  public_network
  roles:
  - role: mongod

- hosts: mongoc_servers
  remote_user: vagrant
  sudo: true
  public_network
  roles:
  - role: mongoc

- hosts: mongos_servers
  remote_user: vagrant
  sudo: true
  public_network
  roles:
  - role: mongos

- hosts: mongo_servers
  remote_user: vagrant
  sudo: true
  public_network
  tasks:
  - include: roles/mongod/tasks/shards.yml 
